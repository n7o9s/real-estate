{"ast":null,"code":"var _jsxFileName = \"/Users/a79/Downloads/my-real-estate-project/frontend/src/pages/PropertyDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport AuthContext from \"../context/AuthContext\";\nimport \"../styles/PropertyDetails.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = \"http://localhost:5001/api/properties\";\nconst PropertyDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useContext(AuthContext); // ✅ Get logged-in user\n  const [property, setProperty] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  useEffect(() => {\n    const fetchPropertyDetails = async () => {\n      try {\n        const response = await axios.get(`${API_URL}/${id}`);\n        setProperty(response.data);\n      } catch (error) {\n        console.error(\"Error fetching property details:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPropertyDetails();\n  }, [id]);\n  const handleInquirySubmit = async e => {\n    e.preventDefault();\n    if (!user) {\n      setErrorMessage(\"You must be logged in to send an inquiry.\");\n      return;\n    }\n    try {\n      await axios.post(`${API_URL}/${id}/inquiry`, {\n        message\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setSuccessMessage(\"Inquiry sent successfully!\");\n      setErrorMessage(\"\");\n      setMessage(\"\");\n    } catch (error) {\n      setErrorMessage(\"Failed to send inquiry.\");\n      setSuccessMessage(\"\");\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"loading\",\n    children: \"Loading property details...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 25\n  }, this);\n  if (!property) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"error-text\",\n    children: \"Property not found.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 27\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"property-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: property.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: property.image || \"/assets/default-house.jpg\",\n      alt: property.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"property-price\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\uD83D\\uDCB0 Price:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 43\n      }, this), \" $\", property.price.toLocaleString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"property-location\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"\\uD83D\\uDCCD Location:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 46\n      }, this), \" \", property.location]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"property-features\",\n      children: [\"\\uD83D\\uDECF \", property.bedrooms, \" Beds | \\uD83D\\uDEC1 \", property.bathrooms, \" Baths\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"property-description\",\n      children: property.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"inquiry-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Send an Inquiry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleInquirySubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Ask a question about this property...\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"contact-btn\",\n          children: \"Send Inquiry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), successMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"success-text\",\n        children: successMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 36\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-text\",\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(PropertyDetails, \"OElDiTL7UL1BeWUVfraiMmYoRu4=\", false, function () {\n  return [useParams];\n});\n_c = PropertyDetails;\nexport default PropertyDetails;\nvar _c;\n$RefreshReg$(_c, \"PropertyDetails\");","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","axios","AuthContext","jsxDEV","_jsxDEV","API_URL","PropertyDetails","_s","id","user","property","setProperty","loading","setLoading","message","setMessage","successMessage","setSuccessMessage","errorMessage","setErrorMessage","fetchPropertyDetails","response","get","data","error","console","handleInquirySubmit","e","preventDefault","post","headers","Authorization","localStorage","getItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","src","image","alt","price","toLocaleString","location","bedrooms","bathrooms","description","onSubmit","placeholder","value","onChange","target","required","type","_c","$RefreshReg$"],"sources":["/Users/a79/Downloads/my-real-estate-project/frontend/src/pages/PropertyDetails.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport AuthContext from \"../context/AuthContext\";\nimport \"../styles/PropertyDetails.css\";\n\nconst API_URL = \"http://localhost:5001/api/properties\";\n\nconst PropertyDetails = () => {\n    const { id } = useParams();\n    const { user } = useContext(AuthContext); // ✅ Get logged-in user\n    const [property, setProperty] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [message, setMessage] = useState(\"\");\n    const [successMessage, setSuccessMessage] = useState(\"\");\n    const [errorMessage, setErrorMessage] = useState(\"\");\n\n    useEffect(() => {\n        const fetchPropertyDetails = async () => {\n            try {\n                const response = await axios.get(`${API_URL}/${id}`);\n                setProperty(response.data);\n            } catch (error) {\n                console.error(\"Error fetching property details:\", error);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchPropertyDetails();\n    }, [id]);\n\n    const handleInquirySubmit = async (e) => {\n        e.preventDefault();\n        if (!user) {\n            setErrorMessage(\"You must be logged in to send an inquiry.\");\n            return;\n        }\n\n        try {\n            await axios.post(`${API_URL}/${id}/inquiry`, { message }, {\n                headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\n            });\n\n            setSuccessMessage(\"Inquiry sent successfully!\");\n            setErrorMessage(\"\");\n            setMessage(\"\");\n        } catch (error) {\n            setErrorMessage(\"Failed to send inquiry.\");\n            setSuccessMessage(\"\");\n        }\n    };\n\n    if (loading) return <p className=\"loading\">Loading property details...</p>;\n    if (!property) return <p className=\"error-text\">Property not found.</p>;\n\n    return (\n        <div className=\"property-details\">\n            <h2>{property.title}</h2>\n            <img src={property.image || \"/assets/default-house.jpg\"} alt={property.title} />\n            <p className=\"property-price\"><strong>💰 Price:</strong> ${property.price.toLocaleString()}</p>\n            <p className=\"property-location\"><strong>📍 Location:</strong> {property.location}</p>\n            <p className=\"property-features\">🛏 {property.bedrooms} Beds | 🛁 {property.bathrooms} Baths</p>\n            <p className=\"property-description\">{property.description}</p>\n\n            {/* Inquiry Form */}\n            <div className=\"inquiry-form\">\n                <h3>Send an Inquiry</h3>\n                <form onSubmit={handleInquirySubmit}>\n                    <textarea\n                        placeholder=\"Ask a question about this property...\"\n                        value={message}\n                        onChange={(e) => setMessage(e.target.value)}\n                        required\n                    />\n                    <button type=\"submit\" className=\"contact-btn\">Send Inquiry</button>\n                </form>\n                {successMessage && <p className=\"success-text\">{successMessage}</p>}\n                {errorMessage && <p className=\"error-text\">{errorMessage}</p>}\n            </div>\n        </div>\n    );\n};\n\nexport default PropertyDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}