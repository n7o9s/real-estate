{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:5001/api\";\nconst api = axios.create({\n  baseURL: API_URL,\n  withCredentials: true,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport const fetchProperties = async () => {\n  try {\n    const response = await api.get(\"/properties\");\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching properties:\", error);\n    return [];\n  }\n};\nexport const fetchPropertyById = async id => {\n  try {\n    const response = await api.get(`/properties/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching property details:\", error);\n    return null;\n  }\n};\nexport const signup = async userData => {\n  try {\n    console.log(\"ðŸ“¡ Sending signup request:\", userData);\n    const response = await api.post(\"/auth/signup\", userData);\n    console.log(\"âœ… Signup successful, received response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response2, _error$response2$data;\n    console.error(\"ðŸš¨ Signup Error:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error);\n    return {\n      error: ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || \"Signup failed\"\n    };\n  }\n};\nexport const login = async credentials => {\n  try {\n    console.log(\"ðŸ“¡ Sending login request:\", credentials);\n    const response = await api.post(\"/auth/login\", credentials); // âœ… Ensure endpoint is correct\n    console.log(\"âœ… Login successful, received response:\", response.data);\n    return response.data;\n  } catch (error) {\n    var _error$response3, _error$response4, _error$response4$data;\n    console.error(\"ðŸš¨ Error logging in:\", ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error);\n    return {\n      error: ((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : (_error$response4$data = _error$response4.data) === null || _error$response4$data === void 0 ? void 0 : _error$response4$data.error) || \"Login failed\"\n    };\n  }\n};\n\n// âœ… Fetch Logged-in User\nexport const fetchUser = async token => {\n  try {\n    const response = await api.get(\"/auth/me\", {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching user:\", error);\n    return null;\n  }\n};\n\n// âœ… Logout\nexport const logout = async () => {\n  try {\n    await api.post(\"/auth/logout\");\n    localStorage.removeItem(\"token\"); // Remove token\n  } catch (error) {\n    console.error(\"Error logging out:\", error);\n  }\n};","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","withCredentials","headers","fetchProperties","response","get","data","error","console","fetchPropertyById","id","signup","userData","log","post","_error$response","_error$response2","_error$response2$data","login","credentials","_error$response3","_error$response4","_error$response4$data","fetchUser","token","Authorization","logout","localStorage","removeItem"],"sources":["/Users/a79/Downloads/my-real-estate-project/frontend/src/services/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:5001/api\";\n\n\nconst api = axios.create({\n    baseURL: API_URL,\n    withCredentials: true,\n    headers: { \"Content-Type\": \"application/json\" }\n});\n\nexport const fetchProperties = async () => {\n    try {\n        const response = await api.get(\"/properties\");\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching properties:\", error);\n        return [];\n    }\n};\n\nexport const fetchPropertyById = async (id) => {\n    try {\n        const response = await api.get(`/properties/${id}`);\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching property details:\", error);\n        return null;\n    }\n};\n\n\nexport const signup = async (userData) => {\n    try {\n        console.log(\"ðŸ“¡ Sending signup request:\", userData);\n        const response = await api.post(\"/auth/signup\", userData);\n        console.log(\"âœ… Signup successful, received response:\", response.data);\n        return response.data;\n    } catch (error) {\n        console.error(\"ðŸš¨ Signup Error:\", error.response?.data || error);\n        return { error: error.response?.data?.error || \"Signup failed\" };\n    }\n};\n\n\nexport const login = async (credentials) => {\n    try {\n        console.log(\"ðŸ“¡ Sending login request:\", credentials);\n        const response = await api.post(\"/auth/login\", credentials); // âœ… Ensure endpoint is correct\n        console.log(\"âœ… Login successful, received response:\", response.data);\n        return response.data;\n    } catch (error) {\n        console.error(\"ðŸš¨ Error logging in:\", error.response?.data || error);\n        return { error: error.response?.data?.error || \"Login failed\" };\n    }\n};\n\n// âœ… Fetch Logged-in User\nexport const fetchUser = async (token) => {\n    try {\n        const response = await api.get(\"/auth/me\", {\n            headers: { Authorization: `Bearer ${token}` },\n        });\n        return response.data;\n    } catch (error) {\n        console.error(\"Error fetching user:\", error);\n        return null;\n    }\n};\n\n// âœ… Logout\nexport const logout = async () => {\n    try {\n        await api.post(\"/auth/logout\");\n        localStorage.removeItem(\"token\"); // Remove token\n    } catch (error) {\n        console.error(\"Error logging out:\", error);\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}